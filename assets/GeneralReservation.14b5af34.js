import{c as C,h as V,Q as $,a as v}from"./QBtn.9996c0f7.js";import{m as q,t as D,a0 as P,a as I,_ as B,r as g,o as a,c as n,f as o,w as t,e as m,k,g as d,j as i,z as R,a8 as _}from"./index.dda7049c.js";import{Q as u}from"./QBar.670e86f8.js";import{Q as c}from"./QCardSection.71e88b5c.js";import{Q as Y,a as N}from"./QPopupProxy.e2c68b68.js";import{Q as S}from"./QInput.bba9a822.js";import{Q as M}from"./QScrollArea.6a0d07f8.js";import{C as T}from"./ClosePopup.84ffc425.js";import{P as j}from"./PetSelector.ac3a0fdd.js";import{S as U}from"./SponsorNameCombo.68f1c13c.js";import{u as G}from"./pet-store.04b64423.js";var p=C({name:"QToolbarTitle",props:{shrink:Boolean},setup(e,{slots:s}){const l=q(()=>"q-toolbar__title ellipsis"+(e.shrink===!0?" col-shrink":""));return()=>D("div",{class:l.value},V(s.default))}});const w=G(),{booking_summary:z,show_summary:A,sponsor_combo_match:E,getSelectedPetId:F,serviceId:H,room_reservation_data:J,selectedServices:K}=P(w),L=I({name:"ReservationBox",emits:["submitReservation","back"],props:["booking_confirmed","show_date_selector","show_room_selector"],components:{PetSelector:j,SponsorNameCombo:U},computed:{disable_button(){return this.getSelectedPetId==null||this.serviceId==null||this.$route.path=="/book/rooms"&&(this.room_reservation_data==null||this.room_reservation_data.length==0)},masked_date(){return this.$formatDate(this.date,"MMMM DD, YYYY")}},setup(){return{booking_summary:z,store:w,show_summary:A,sponsor_combo_match:E,getSelectedPetId:F,serviceId:H,room_reservation_data:J,selectedServices:K}},methods:{dateUpdate(e,s,l){this.booking_summary.dates=e},selectRoom(e){this.selected_room=e,this.booking_summary.room=e}},mounted(){this.selectedServices=null,this.serviceId=null,this.show_summary=!1,this.sponsor_combo_match=!1,this.is_member=localStorage.getItem("is_member")==="true",this.booking_summary.remarks=null},data(){const s=["1","2","3"],l="1",b=new Date,f=this.$formatDate(b,"YYYY/MM/DD");return{is_member:!1,model:l,options:s,date:f,selected_pet:null,selected_room:null,result:!1}}}),O={class:"col"},W={key:0,class:"row justify-center"},X={class:"clamped-width-wide deep-shadow q-pa-md bg-white q-my-sm",style:{"border-radius":"8px"}},Z={key:0,class:"row gap-10 q-pa-sm"},x={class:"q-pa-sm"},ee={class:"row items-center justify-end"},se={key:2,class:"q-mb-md grey-border"},oe={class:"row justify-center q-mt-md"};function te(e,s,l,b,f,Q){const h=g("SponsorNameCombo"),y=g("PetSelector");return a(),n("div",O,[o(M,{class:"full-height"},{default:t(()=>[e.show_summary?_(e.$slots,"reservationSummary",{key:1}):(a(),n("div",W,[m("div",X,[e.is_member?i("",!0):(a(),k(c,{key:0,class:"shadow-0 q-mb-md grey-border"},{default:t(()=>[o(u,{class:"bg-grey-4"},{default:t(()=>[o(p,{class:"text-grey-7"},{default:t(()=>[d("Sponsor")]),_:1})]),_:1}),e.is_member?i("",!0):(a(),n("div",Z,[o(h,{onSponsor:s[0]||(s[0]=r=>e.booking_summary.sponsor=r),onSponsor_name:s[1]||(s[1]=r=>e.booking_summary.sponsor_name=r)})]))]),_:1})),e.show_date_selector?(a(),k(c,{key:1,class:"shadow-0 grey-border q-mb-md"},{default:t(()=>[o(u,{class:"bg-grey-4"},{default:t(()=>[o(p,{class:"text-grey-7"},{default:t(()=>[d("Set Date")]),_:1})]),_:1}),m("div",x,[o(S,{outlined:"",modelValue:e.masked_date,"onUpdate:modelValue":s[3]||(s[3]=r=>e.masked_date=r),readonly:"",mask:""},{append:t(()=>[o($,{name:"event",class:"cursor-pointer"},{default:t(()=>[o(Y,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:t(()=>[o(N,{modelValue:e.date,"onUpdate:modelValue":s[2]||(s[2]=r=>e.date=r)},{default:t(()=>[m("div",ee,[R(o(v,{label:"Close",color:"primary",flat:""},null,512),[[T]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])]),_:1})):i("",!0),o(c,{class:"shadow-0 grey-border q-mb-md"},{default:t(()=>[o(u,{class:"bg-grey-4"},{default:t(()=>[o(p,{class:"text-grey-7"},{default:t(()=>[d("Select Pet")]),_:1})]),_:1}),m("div",null,[o(y,{onSelect_pet:s[4]||(s[4]=r=>{e.selected_pet=r})})])]),_:1}),o(c,{class:"q-mb-md shadow-0 grey-border"},{default:t(()=>[o(u,{class:"bg-grey-4"},{default:t(()=>[o(p,{class:"text-grey-7"},{default:t(()=>[d("Select Service")]),_:1})]),_:1}),_(e.$slots,"serviceSelector")]),_:3}),e.show_room_selector&&e.serviceId?(a(),n("div",se,[_(e.$slots,"roomSelector")])):i("",!0),o(S,{class:"grey-border",modelValue:e.booking_summary.remarks,"onUpdate:modelValue":s[5]||(s[5]=r=>e.booking_summary.remarks=r),filled:"",type:"textarea",label:"Remarks"},null,8,["modelValue"]),m("div",oe,[o(v,{color:"white","text-color":"black",label:"proceed",disable:!e.is_member&&!e.sponsor_combo_match||e.disable_button,onClick:s[6]||(s[6]=r=>e.show_summary=!0),onConfirm:s[7]||(s[7]=r=>e.$emit("submitReservation"))},null,8,["disable"])])])]))]),_:3})])}var be=B(L,[["render",te]]);export{be as G};
