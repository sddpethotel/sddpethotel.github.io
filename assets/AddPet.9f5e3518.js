import{Q as b,a as c}from"./QBtn.9996c0f7.js";import{Q as _}from"./QImg.8735273d.js";import{Q as v}from"./QInput.bba9a822.js";import{Q as n}from"./QSelect.e999bd29.js";import{Q as y}from"./QSpinnerOrbit.57ba873c.js";import{Q as P}from"./QInnerLoading.7c6a5134.js";import{a as g,_ as f,o as p,c as u,e as r,f as i,g as w,w as V,r as h,F as $}from"./index.dda7049c.js";import{D as U}from"./DashboardToolbar.41fc4a83.js";import"./use-key-composition.603e6653.js";import"./use-dark.94e400c1.js";import"./uid.42677368.js";import"./focus-manager.05708ea9.js";import"./QChip.80c487cc.js";import"./QItem.c47cf5af.js";import"./QMenu.cb6c7205.js";import"./selection.ebc1c08a.js";import"./QDialog.af084a99.js";import"./use-timeout.85ee0991.js";import"./scroll.bf116c29.js";import"./rtl.b51694b1.js";import"./format.2bc25e5f.js";const I=g({name:"PetCard",watch:{species(){this.breed=""}},computed:{filtered_species(){return this.approved_species==null?[]:this.approved_species.filter(e=>e.speciesName!="All")},filtered_breed(){return this.species==null?[]:this.breed_size.filter(e=>this.species.speciesId==e.speciesId)}},methods:{getProfilePicArray(){return[{name:"petId",value:this.petId}]},updatePicture(){const e=document.querySelector("#imageUpload");e.files&&e.files[0]&&(this.profilePicUrl=window.URL.createObjectURL(e.files[0]))},uploadFile(){document.querySelector("#imageUpload").click()},uploadedEverything(){this.is_loading=!1,this.is_registering=!1},finishedUploading(){console.log("medical files finish uploading"),this.uploadedEverything()},pushPet(){this.is_loading=!0,this.addPet()},addPet(){const e=document.querySelector("#imageUpload"),l={image:e.files?e.files[0]:null,project:"pethotel",folder:"pet"};this.$axios.post(`${this.$mediaURL}/api/v1/upload`,l,{headers:{"Content-Type":"multipart/form-data"}}).then(d=>{const a=d.data[0].filename;this.$api.post("api/v1/pet",{name:this.name,species:this.species.speciesId,breed:this.breed.breedId,sex:this.gender[0],is_neutered:this.is_neutered=="Yes"?1:0,filename:a}).then(s=>{const o=s.data.petId;this.petId=o,this.uploadedEverything()}).catch(s=>{console.log(s)})})}},mounted(){this.$api.get("api/v1/pethotel/breeds").then(e=>{this.breed_size=e.data}),this.$api.get("api/v1/pethotel/species").then(e=>{this.approved_species=e.data})},data(){return{is_loading:!1,petId:"",profilePicUrl:"",name:"",species:null,approved_species:[],breed_size:[],breed:null,gender:"Male",is_neutered:"Yes",is_registering:!0}}}),k={class:"row justify-center"},Q={class:"clamped-width-wide q-pt-md",style:{"border-radius":"10px"}},C={key:0,class:"q-ma-xs q-pa-md deep-shadow bg-white",style:{"border-radius":"8px"}},q={class:"column q-mb-md",style:{"align-items":"center"}},F={class:"gap-10 column"},N={key:1,class:"deep-shadow q-pa-lg q-mt-lg bg-white",style:{"border-radius":"8px"}};function A(e,t,l,d,a,s){return p(),u("div",k,[r("div",Q,[e.is_registering?(p(),u("div",C,[r("input",{id:"imageUpload",type:"file",name:"profile_photo",placeholder:"Photo",capture:"",style:{display:"none"},onChange:t[0]||(t[0]=(...o)=>e.updatePicture&&e.updatePicture(...o))},null,32),r("div",q,[r("div",{style:{width:"20vh",height:"20vh",position:"relative"},onClick:t[1]||(t[1]=(...o)=>e.uploadFile&&e.uploadFile(...o))},[i(b,{name:"add",style:{position:"absolute",left:"0",right:"0",top:"0",bottom:"0",margin:"auto"},size:"80px",color:"grey"}),i(_,{src:e.profilePicUrl,ratio:"1",style:{border:"1px solid rgb(187, 187, 187)","border-radius":"8px"}},null,8,["src"])])]),r("div",F,[i(v,{modelValue:e.name,"onUpdate:modelValue":t[2]||(t[2]=o=>e.name=o),outlined:"",label:"Pet Name"},null,8,["modelValue"]),i(n,{outlined:"",modelValue:e.species,"onUpdate:modelValue":t[3]||(t[3]=o=>e.species=o),options:e.filtered_species,label:"Species","option-label":"speciesName"},null,8,["modelValue","options"]),i(n,{outlined:"",modelValue:e.breed,"onUpdate:modelValue":t[4]||(t[4]=o=>e.breed=o),options:e.filtered_breed,"option-label":"breedName",label:"Breed Size"},null,8,["modelValue","options"]),i(n,{outlined:"",modelValue:e.gender,"onUpdate:modelValue":t[5]||(t[5]=o=>e.gender=o),options:["Male","Female"],label:"Pet Gender"},null,8,["modelValue"]),i(n,{outlined:"",modelValue:e.is_neutered,"onUpdate:modelValue":t[6]||(t[6]=o=>e.is_neutered=o),options:["Yes","No"],label:"Neutered pet?"},null,8,["modelValue"]),i(c,{color:"white","text-color":"black",label:"Register Pet",class:"q-mt-md bg-green-2",onClick:e.pushPet},null,8,["onClick"])])])):(p(),u("div",N,[w(" Your pet registration has been submitted. Click to view your registered pets. "),i(c,{flat:"",class:"bg-blue-2",icon:"info",label:"view","text-color":"grey-9",onClick:t[7]||(t[7]=o=>e.$router.push("/pets_list"))})])),i(P,{showing:e.is_loading},{default:V(()=>[i(y,{size:"50px",color:"primary"})]),_:1},8,["showing"])])])}var B=f(I,[["render",A]]);const z=g({name:"AddPet",components:{AddPetForm:B,DashBoardToolbar:U},props:["new_pet"],data(){return{model:"1",options:["1","2","3"]}}});function S(e,t,l,d,a,s){const o=h("DashBoardToolbar"),m=h("AddPetForm");return p(),u($,null,[i(o,{title:"Add Pet",hide_back_button:e.new_pet},null,8,["hide_back_button"]),i(m)],64)}var de=f(z,[["render",S]]);export{de as default};
