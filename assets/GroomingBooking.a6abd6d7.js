import{D as g}from"./DashboardToolbar.41fc4a83.js";import{_ as f,a0 as v,a as b,r as t,o as k,c as h,f as i,w as p,F as y,e as d}from"./index.dda7049c.js";import{u as S}from"./pet-store.04b64423.js";import{G as R}from"./GeneralReservation.14b5af34.js";import{G}from"./GeneralServiceSelector.3b8997cd.js";import{p as B}from"./datafetcher.ff370c84.js";import{R as D}from"./RoomReservationSummary.e44437f3.js";import"./QBtn.9996c0f7.js";import"./QBar.670e86f8.js";import"./use-dark.94e400c1.js";import"./QCardSection.71e88b5c.js";import"./QPopupProxy.e2c68b68.js";import"./use-cache.b0833c75.js";import"./use-key-composition.603e6653.js";import"./uid.42677368.js";import"./focus-manager.05708ea9.js";import"./date.528ab822.js";import"./format.2bc25e5f.js";import"./QDialog.af084a99.js";import"./use-timeout.85ee0991.js";import"./scroll.bf116c29.js";import"./QMenu.cb6c7205.js";import"./selection.ebc1c08a.js";import"./QInput.bba9a822.js";import"./QScrollArea.6a0d07f8.js";import"./touch.5b285bde.js";import"./ClosePopup.84ffc425.js";import"./PetSelector.ac3a0fdd.js";import"./QImg.8735273d.js";import"./SponsorNameCombo.68f1c13c.js";import"./QSeparator.9d997a39.js";import"./QItem.c47cf5af.js";import"./axios.13cf03e6.js";import"./QList.dfd471e7.js";import"./QChip.80c487cc.js";import"./QTabs.dd243adb.js";import"./rtl.b51694b1.js";import"./QTabPanels.dfd89b55.js";import"./QSpinnerOrbit.57ba873c.js";import"./QInnerLoading.7c6a5134.js";import"./SummaryAction.565edeee.js";const n=S(),{booking_summary:w,pets:C,selectedServices:I,servicesData:N,addons:T,addons_checkbox:$}=v(n),P=b({name:"BookingSummary",components:{DashBoardToolbar:g,GeneralReservation:R,GeneralServiceSelector:G,RoomReservationSummary:D},setup(){return{booking_summary:w,pets:C,store:n,selectedServices:I,servicesData:N,addons:T,addons_checkbox:$}},computed:{total_price(){var o=0;return o+=this.booking_summary.price||0,this.addons.filter((e,r)=>this.addons_checkbox[r]).forEach(e=>{o+=e.price}),o},selected_addons(){return this.addons.filter((o,e)=>this.addons_checkbox[e])}},methods:{set_category_name(o,e){this.categoryName=o+(e?`: ${e}`:"")},submitReservation(){const o=this.selected_addons.map(a=>a.serviceCategoryAddonId);this.loading=!0;const e=n.getSelectedPetId;if(e==null)return;const r={sponsor:this.booking_summary.sponsor,petId:e,serviceId:this.booking_summary.serviceId,reservationRemarks:this.booking_summary.remarks,addon:o};B("api/v1/reservation",r,null,()=>{this.loading=!1,this.booking_confirmed=!0},!1)}},data(){return{loading:!1,booking_confirmed:!1,date:null,categoryName:null}}}),E={class:"row justify-center"},F={class:"clamped-width-wide"};function V(o,e,r,a,j,A){const c=t("DashBoardToolbar"),l=t("GeneralServiceSelector"),_=t("RoomReservationSummary"),u=t("GeneralReservation");return k(),h(y,null,[i(c,{title:"Book Grooming"}),i(u,{onSubmitReservation:o.submitReservation,booking_confirmed:o.booking_confirmed,show_date_selector:!0},{serviceSelector:p(()=>[i(l,{"service-type-name":"Grooming",onSet_category_name:o.set_category_name},null,8,["onSet_category_name"])]),reservationSummary:p(()=>{var s,m;return[d("div",E,[d("div",F,[i(_,{hide_tabs:!0,onSubmitReservation:o.submitReservation,loading:o.loading,booking_confirmed:o.booking_confirmed,pet_name:(s=o.store.getSelectedPetData)==null?void 0:s.name,pet_profilepic:(m=o.store.getSelectedPetData)==null?void 0:m.profilepic,sponsor:o.booking_summary.sponsor,reservation_remarks:o.booking_summary.remarks,price:o.booking_summary.price,addons:o.selected_addons,total_price:o.total_price,"category-name":o.categoryName},null,8,["onSubmitReservation","loading","booking_confirmed","pet_name","pet_profilepic","sponsor","reservation_remarks","price","addons","total_price","category-name"])])])]}),_:1},8,["onSubmitReservation","booking_confirmed"])],64)}var wo=f(P,[["render",V]]);export{wo as default};
