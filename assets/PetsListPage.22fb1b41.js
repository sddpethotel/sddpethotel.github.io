import{P as Te}from"./PetSelector.ac3a0fdd.js";import{a as be,Q as Qe}from"./QTabs.dd243adb.js";import{Q as Ne,a as ie}from"./QTabPanels.dfd89b55.js";import{Q as Re}from"./QScrollArea.6a0d07f8.js";import{a as V,Q as x}from"./QItem.c47cf5af.js";import{Q as Ee}from"./QList.dfd471e7.js";import{a as Le,Q as je}from"./QCardSection.71e88b5c.js";import{a as te,_ as ae,o as Q,k as se,w as u,f as n,g as P,a7 as G,j as de,m as S,t as f,D as ce,n as I,W as ke,A as qe,J as Ae,G as Me,q as Oe,s as Ve,al as Ge,$ as We,am as He,an as Xe,ac as Ye,r as W,c as H,e as X,F as ee,aa as Ue,a0 as Je}from"./index.dda7049c.js";import{Q as we}from"./QImg.8735273d.js";import{Q as Ke}from"./QDialog.af084a99.js";import{m as Ze,c as ze,l as et,q as tt,v as at,b as ye,Q as lt,a as Fe}from"./QBtn.9996c0f7.js";import{b as ot,h as Se}from"./format.2bc25e5f.js";import{u as rt,a as st}from"./use-dark.94e400c1.js";import{D as nt}from"./DashboardToolbar.41fc4a83.js";import{u as it}from"./pet-store.04b64423.js";import"./uid.42677368.js";import"./touch.5b285bde.js";import"./use-timeout.85ee0991.js";import"./rtl.b51694b1.js";import"./selection.ebc1c08a.js";import"./use-cache.b0833c75.js";import"./scroll.bf116c29.js";import"./focus-manager.05708ea9.js";const ut=te({name:"PetsTab",props:["petData"]});function dt(e,r,s,o,i,c){return e.petData!=null?(Q(),se(Le,{key:0},{default:u(()=>[n(Ee,{bordered:"",separator:""},{default:u(()=>[n(V,null,{default:u(()=>[n(x,{class:"text-bold"},{default:u(()=>[P("Pet ID")]),_:1}),n(x,null,{default:u(()=>[P(G(e.petData.petId),1)]),_:1})]),_:1}),n(V,null,{default:u(()=>[n(x,{class:"text-bold"},{default:u(()=>[P("Name")]),_:1}),n(x,null,{default:u(()=>[P(G(e.petData.name),1)]),_:1})]),_:1}),n(V,null,{default:u(()=>[n(x,{class:"text-bold"},{default:u(()=>[P("Species")]),_:1}),n(x,null,{default:u(()=>[P(G(e.petData.speciesName),1)]),_:1})]),_:1}),n(V,null,{default:u(()=>[n(x,{class:"text-bold"},{default:u(()=>[P("Breed")]),_:1}),n(x,null,{default:u(()=>[P(G(e.petData.breedName),1)]),_:1})]),_:1}),n(V,null,{default:u(()=>[n(x,{class:"text-bold"},{default:u(()=>[P("Sex")]),_:1}),n(x,null,{default:u(()=>[P(G(e.petData.sex=="M"?"Male":"Female"),1)]),_:1})]),_:1}),n(V,null,{default:u(()=>[n(x,{class:"text-bold"},{default:u(()=>[P("Is neutered")]),_:1}),n(x,null,{default:u(()=>[P(G(e.petData.is_neutered?"Yes":"No"),1)]),_:1})]),_:1}),n(V,null,{default:u(()=>[n(x,{class:"text-bold"},{default:u(()=>[P("Registration Status")]),_:1}),n(x,null,{default:u(()=>[P(G(e.petData.regStatus),1)]),_:1})]),_:1})]),_:1})]),_:1})):de("",!0)}var ct=ae(ut,[["render",dt]]);const pt={...Ze,min:{type:Number,default:0},max:{type:Number,default:100},color:String,centerColor:String,trackColor:String,fontSize:String,rounded:Boolean,thickness:{type:Number,default:.2,validator:e=>e>=0&&e<=1},angle:{type:Number,default:0},showValue:Boolean,reverse:Boolean,instantFeedback:Boolean},ue=50,xe=2*ue,Pe=xe*Math.PI,ft=Math.round(Pe*1e3)/1e3;var mt=ze({name:"QCircularProgress",props:{...pt,value:{type:Number,default:0},animationSpeed:{type:[String,Number],default:600},indeterminate:Boolean},setup(e,{slots:r}){const{proxy:{$q:s}}=ce(),o=et(e),i=S(()=>{const $=(s.lang.rtl===!0?-1:1)*e.angle;return{transform:e.reverse!==(s.lang.rtl===!0)?`scale3d(-1, 1, 1) rotate3d(0, 0, 1, ${-90-$}deg)`:`rotate3d(0, 0, 1, ${$-90}deg)`}}),c=S(()=>e.instantFeedback!==!0&&e.indeterminate!==!0?{transition:`stroke-dashoffset ${e.animationSpeed}ms ease 0s, stroke ${e.animationSpeed}ms ease`}:""),_=S(()=>xe/(1-e.thickness/2)),h=S(()=>`${_.value/2} ${_.value/2} ${_.value} ${_.value}`),k=S(()=>ot(e.value,e.min,e.max)),q=S(()=>Pe*(1-(k.value-e.min)/(e.max-e.min))),B=S(()=>e.thickness/2*_.value);function N({thickness:$,offset:C,color:t,cls:b,rounded:D}){return f("circle",{class:"q-circular-progress__"+b+(t!==void 0?` text-${t}`:""),style:c.value,fill:"transparent",stroke:"currentColor","stroke-width":$,"stroke-dasharray":ft,"stroke-dashoffset":C,"stroke-linecap":D,cx:_.value,cy:_.value,r:ue})}return()=>{const $=[];e.centerColor!==void 0&&e.centerColor!=="transparent"&&$.push(f("circle",{class:`q-circular-progress__center text-${e.centerColor}`,fill:"currentColor",r:ue-B.value/2,cx:_.value,cy:_.value})),e.trackColor!==void 0&&e.trackColor!=="transparent"&&$.push(N({cls:"track",thickness:B.value,offset:0,color:e.trackColor})),$.push(N({cls:"circle",thickness:B.value,offset:q.value,color:e.color,rounded:e.rounded===!0?"round":void 0}));const C=[f("svg",{class:"q-circular-progress__svg",style:i.value,viewBox:h.value,"aria-hidden":"true"},$)];return e.showValue===!0&&C.push(f("div",{class:"q-circular-progress__text absolute-full row flex-center content-center",style:{fontSize:e.fontSize}},r.default!==void 0?r.default():[f("div",k.value)])),f("div",{class:`q-circular-progress q-circular-progress--${e.indeterminate===!0?"in":""}determinate`,style:o.value,role:"progressbar","aria-valuemin":e.min,"aria-valuemax":e.max,"aria-valuenow":e.indeterminate===!0?void 0:k.value},tt(r.internal,C))}}});function Z(e,r,s,o){const i=[];return e.forEach(c=>{o(c)===!0?i.push(c):r.push({failedPropValidation:s,file:c})}),i}function re(e){e&&e.dataTransfer&&(e.dataTransfer.dropEffect="copy"),qe(e)}const vt={multiple:Boolean,accept:String,capture:String,maxFileSize:[Number,String],maxTotalSize:[Number,String],maxFiles:[Number,String],filter:Function},_t=["rejected"];function gt({editable:e,dnd:r,getFileInput:s,addFilesToQueue:o}){const{props:i,emit:c,proxy:_}=ce(),h=I(null),k=S(()=>i.accept!==void 0?i.accept.split(",").map(l=>(l=l.trim(),l==="*"?"*/":(l.endsWith("/*")&&(l=l.slice(0,l.length-1)),l.toUpperCase()))):null),q=S(()=>parseInt(i.maxFiles,10)),B=S(()=>parseInt(i.maxTotalSize,10));function N(l){if(e.value)if(l!==Object(l)&&(l={target:null}),l.target!==null&&l.target.matches('input[type="file"]')===!0)l.clientX===0&&l.clientY===0&&ke(l);else{const w=s();w&&w!==l.target&&w.click(l)}}function $(l){e.value&&l&&o(null,l)}function C(l,w,A,M){let p=Array.from(w||l.target.files);const y=[],T=()=>{y.length!==0&&c("rejected",y)};if(i.accept!==void 0&&k.value.indexOf("*/")===-1&&(p=Z(p,y,"accept",m=>k.value.some(F=>m.type.toUpperCase().startsWith(F)||m.name.toUpperCase().endsWith(F))),p.length===0))return T();if(i.maxFileSize!==void 0){const m=parseInt(i.maxFileSize,10);if(p=Z(p,y,"max-file-size",F=>F.size<=m),p.length===0)return T()}if(i.multiple!==!0&&p.length!==0&&(p=[p[0]]),p.forEach(m=>{m.__key=m.webkitRelativePath+m.lastModified+m.name+m.size}),M===!0){const m=A.map(F=>F.__key);p=Z(p,y,"duplicate",F=>m.includes(F.__key)===!1)}if(p.length===0)return T();if(i.maxTotalSize!==void 0){let m=M===!0?A.reduce((F,E)=>F+E.size,0):0;if(p=Z(p,y,"max-total-size",F=>(m+=F.size,m<=B.value)),p.length===0)return T()}if(typeof i.filter=="function"){const m=i.filter(p);p=Z(p,y,"filter",F=>m.includes(F))}if(i.maxFiles!==void 0){let m=M===!0?A.length:0;if(p=Z(p,y,"max-files",()=>(m++,m<=q.value)),p.length===0)return T()}if(T(),p.length!==0)return p}function t(l){re(l),r.value!==!0&&(r.value=!0)}function b(l){qe(l),(l.relatedTarget!==null||Ae.is.safari!==!0?l.relatedTarget!==h.value:document.elementsFromPoint(l.clientX,l.clientY).includes(h.value)===!1)===!0&&(r.value=!1)}function D(l){re(l);const w=l.dataTransfer.files;w.length!==0&&o(null,w),r.value=!1}function g(l){if(r.value===!0)return f("div",{ref:h,class:`q-${l}__dnd absolute-full`,onDragenter:re,onDragover:re,onDragleave:b,onDrop:D})}return Object.assign(_,{pickFiles:N,addFiles:$}),{pickFiles:N,addFiles:$,onDragover:t,onDragleave:b,processFiles:C,getDndNode:g,maxFilesNumber:q,maxTotalSizeNumber:B}}function $e(e){return(e*100).toFixed(2)+"%"}const ht={...rt,...vt,label:String,color:String,textColor:String,square:Boolean,flat:Boolean,bordered:Boolean,noThumbnails:Boolean,autoUpload:Boolean,hideUploadBtn:Boolean,disable:Boolean,readonly:Boolean},Ce=[..._t,"start","finish","added","removed"];function bt(e,r){const s=ce(),{props:o,slots:i,emit:c,proxy:_}=s,{$q:h}=_,k=st(o,h);function q(a,v,U){if(a.__status=v,v==="idle"){a.__uploaded=0,a.__progress=0,a.__sizeLabel=Se(a.size),a.__progressLabel="0.00%";return}if(v==="failed"){_.$forceUpdate();return}a.__uploaded=v==="uploaded"?a.size:U,a.__progress=v==="uploaded"?1:Math.min(.9999,a.__uploaded/a.size),a.__progressLabel=$e(a.__progress),_.$forceUpdate()}const B=S(()=>o.disable!==!0&&o.readonly!==!0),N=I(!1),$=I(null),C=I(null),t={files:I([]),queuedFiles:I([]),uploadedFiles:I([]),uploadedSize:I(0),updateFileStatus:q,isAlive:()=>at(s)===!1},{pickFiles:b,addFiles:D,onDragover:g,onDragleave:l,processFiles:w,getDndNode:A,maxFilesNumber:M,maxTotalSizeNumber:p}=gt({editable:B,dnd:N,getFileInput:me,addFilesToQueue:ve});Object.assign(t,e({props:o,slots:i,emit:c,helpers:t,exposeApi:a=>{Object.assign(t,a)}})),t.isBusy===void 0&&(t.isBusy=I(!1));const y=I(0),T=S(()=>y.value===0?0:t.uploadedSize.value/y.value),m=S(()=>$e(T.value)),F=S(()=>Se(y.value)),E=S(()=>B.value===!0&&t.isUploading.value!==!0&&(o.multiple===!0||t.queuedFiles.value.length===0)&&(o.maxFiles===void 0||t.files.value.length<M.value)&&(o.maxTotalSize===void 0||y.value<p.value)),d=S(()=>B.value===!0&&t.isBusy.value!==!0&&t.isUploading.value!==!0&&t.queuedFiles.value.length!==0);Me(Xe,ge);const O=S(()=>"q-uploader column no-wrap"+(k.value===!0?" q-uploader--dark q-dark":"")+(o.bordered===!0?" q-uploader--bordered":"")+(o.square===!0?" q-uploader--square no-border-radius":"")+(o.flat===!0?" q-uploader--flat no-shadow":"")+(o.disable===!0?" disabled q-uploader--disable":"")+(N.value===!0?" q-uploader--dnd":"")),Y=S(()=>"q-uploader__header"+(o.color!==void 0?` bg-${o.color}`:"")+(o.textColor!==void 0?` text-${o.textColor}`:""));Oe(t.isUploading,(a,v)=>{v===!1&&a===!0?c("start"):v===!0&&a===!1&&c("finish")});function J(){o.disable===!1&&(t.abort(),t.uploadedSize.value=0,y.value=0,fe(),t.files.value=[],t.queuedFiles.value=[],t.uploadedFiles.value=[])}function R(){o.disable===!1&&pe(["uploaded"],()=>{t.uploadedFiles.value=[]})}function oe(){pe(["idle","failed"],({size:a})=>{y.value-=a,t.queuedFiles.value=[]})}function pe(a,v){if(o.disable===!0)return;const U={files:[],size:0},L=t.files.value.filter(z=>a.indexOf(z.__status)===-1?!0:(U.size+=z.size,U.files.push(z),z.__img!==void 0&&window.URL.revokeObjectURL(z.__img.src),!1));U.files.length!==0&&(t.files.value=L,v(U),c("removed",U.files))}function ne(a){o.disable||(a.__status==="uploaded"?t.uploadedFiles.value=t.uploadedFiles.value.filter(v=>v.__key!==a.__key):a.__status==="uploading"?a.__abort():y.value-=a.size,t.files.value=t.files.value.filter(v=>v.__key!==a.__key?!0:(v.__img!==void 0&&window.URL.revokeObjectURL(v.__img.src),!1)),t.queuedFiles.value=t.queuedFiles.value.filter(v=>v.__key!==a.__key),c("removed",[a]))}function fe(){t.files.value.forEach(a=>{a.__img!==void 0&&window.URL.revokeObjectURL(a.__img.src)})}function me(){return C.value||$.value.getElementsByClassName("q-uploader__input")[0]}function ve(a,v){const U=w(a,v,t.files.value,!0),L=me();L!=null&&(L.value=""),U!==void 0&&(U.forEach(z=>{if(t.updateFileStatus(z,"idle"),y.value+=z.size,o.noThumbnails!==!0&&z.type.toUpperCase().startsWith("IMAGE")){const he=new Image;he.src=window.URL.createObjectURL(z),z.__img=he}}),t.files.value=t.files.value.concat(U),t.queuedFiles.value=t.queuedFiles.value.concat(U),c("added",U),o.autoUpload===!0&&t.upload())}function _e(){d.value===!0&&t.upload()}function le(a,v,U){if(a===!0){const L={type:"a",key:v,icon:h.iconSet.uploader[v],flat:!0,dense:!0};let z;return v==="add"?(L.onClick=b,z=ge):L.onClick=U,f(Fe,L,z)}}function ge(){return f("input",{ref:C,class:"q-uploader__input overflow-hidden absolute-full",tabindex:-1,type:"file",title:"",accept:o.accept,multiple:o.multiple===!0?"multiple":void 0,capture:o.capture,onMousedown:ke,onClick:b,onChange:ve})}function Ie(){return i.header!==void 0?i.header(K):[f("div",{class:"q-uploader__header-content column"},[f("div",{class:"flex flex-center no-wrap q-gutter-xs"},[le(t.queuedFiles.value.length!==0,"removeQueue",oe),le(t.uploadedFiles.value.length!==0,"removeUploaded",R),t.isUploading.value===!0?f(ye,{class:"q-uploader__spinner"}):null,f("div",{class:"col column justify-center"},[o.label!==void 0?f("div",{class:"q-uploader__title"},[o.label]):null,f("div",{class:"q-uploader__subtitle"},[F.value+" / "+m.value])]),le(E.value,"add"),le(o.hideUploadBtn===!1&&d.value===!0,"upload",t.upload),le(t.isUploading.value,"clear",t.abort)])])]}function Be(){return i.list!==void 0?i.list(K):t.files.value.map(a=>f("div",{key:a.__key,class:"q-uploader__file relative-position"+(o.noThumbnails!==!0&&a.__img!==void 0?" q-uploader__file--img":"")+(a.__status==="failed"?" q-uploader__file--failed":a.__status==="uploaded"?" q-uploader__file--uploaded":""),style:o.noThumbnails!==!0&&a.__img!==void 0?{backgroundImage:'url("'+a.__img.src+'")'}:null},[f("div",{class:"q-uploader__file-header row flex-center no-wrap"},[a.__status==="failed"?f(lt,{class:"q-uploader__file-status",name:h.iconSet.type.negative,color:"negative"}):null,f("div",{class:"q-uploader__file-header-content col"},[f("div",{class:"q-uploader__title"},[a.name]),f("div",{class:"q-uploader__subtitle row items-center no-wrap"},[a.__sizeLabel+" / "+a.__progressLabel])]),a.__status==="uploading"?f(mt,{value:a.__progress,min:0,max:1,indeterminate:a.__progress===0}):f(Fe,{round:!0,dense:!0,flat:!0,icon:h.iconSet.uploader[a.__status==="uploaded"?"done":"clear"],onClick:()=>{ne(a)}})])]))}Ve(()=>{t.isUploading.value===!0&&t.abort(),t.files.value.length!==0&&fe()});const K={};for(const a in t)Ge(t[a])===!0?We(K,a,()=>t[a].value):K[a]=t[a];return Object.assign(K,{upload:_e,reset:J,removeUploadedFiles:R,removeQueuedFiles:oe,removeFile:ne,pickFiles:b,addFiles:D}),He(K,{canAddFiles:()=>E.value,canUpload:()=>d.value,uploadSizeLabel:()=>F.value,uploadProgressLabel:()=>m.value}),r({...t,upload:_e,reset:J,removeUploadedFiles:R,removeQueuedFiles:oe,removeFile:ne,pickFiles:b,addFiles:D,canAddFiles:E,canUpload:d,uploadSizeLabel:F,uploadProgressLabel:m}),()=>{const a=[f("div",{class:Y.value},Ie()),f("div",{class:"q-uploader__list scroll"},Be()),A("uploader")];t.isBusy.value===!0&&a.push(f("div",{class:"q-uploader__overlay absolute-full flex flex-center"},[f(ye)]));const v={ref:$,class:O.value};return E.value===!0&&Object.assign(v,{onDragover:g,onDragleave:l}),f("div",v,a)}}const yt=()=>!0;function Ft(e){const r={};return e.forEach(s=>{r[s]=yt}),r}const St=Ft(Ce);var $t=({name:e,props:r,emits:s,injectPlugin:o})=>ze({name:e,props:{...ht,...r},emits:Ye(s)===!0?{...St,...s}:[...Ce,...s],setup(i,{expose:c}){return bt(o,c)}});function j(e){return typeof e=="function"?e:()=>e}const kt={url:[Function,String],method:{type:[Function,String],default:"POST"},fieldName:{type:[Function,String],default:()=>e=>e.name},headers:[Function,Array],formFields:[Function,Array],withCredentials:[Function,Boolean],sendRaw:[Function,Boolean],batch:[Function,Boolean],factory:Function},qt=["factoryFailed","uploaded","failed","uploading"];function Ut({props:e,emit:r,helpers:s}){const o=I([]),i=I([]),c=I(0),_=S(()=>({url:j(e.url),method:j(e.method),headers:j(e.headers),formFields:j(e.formFields),fieldName:j(e.fieldName),withCredentials:j(e.withCredentials),sendRaw:j(e.sendRaw),batch:j(e.batch)})),h=S(()=>c.value>0),k=S(()=>i.value.length!==0);let q;function B(){o.value.forEach(t=>{t.abort()}),i.value.length!==0&&(q=!0)}function N(){const t=s.queuedFiles.value.slice(0);s.queuedFiles.value=[],_.value.batch(t)?$(t):t.forEach(b=>{$([b])})}function $(t){if(c.value++,typeof e.factory!="function"){C(t,{});return}const b=e.factory(t);if(!b)r("factoryFailed",new Error("QUploader: factory() does not return properly"),t),c.value--;else if(typeof b.catch=="function"&&typeof b.then=="function"){i.value.push(b);const D=g=>{s.isAlive()===!0&&(i.value=i.value.filter(l=>l!==b),i.value.length===0&&(q=!1),s.queuedFiles.value=s.queuedFiles.value.concat(t),t.forEach(l=>{s.updateFileStatus(l,"failed")}),r("factoryFailed",g,t),c.value--)};b.then(g=>{q===!0?D(new Error("Aborted")):s.isAlive()===!0&&(i.value=i.value.filter(l=>l!==b),C(t,g))}).catch(D)}else C(t,b||{})}function C(t,b){const D=new FormData,g=new XMLHttpRequest,l=(d,O)=>b[d]!==void 0?j(b[d])(O):_.value[d](O),w=l("url",t);if(!w){console.error("q-uploader: invalid or no URL specified"),c.value--;return}const A=l("formFields",t);A!==void 0&&A.forEach(d=>{D.append(d.name,d.value)});let M=0,p=0,y=0,T=0,m;g.upload.addEventListener("progress",d=>{if(m===!0)return;const O=Math.min(T,d.loaded);s.uploadedSize.value+=O-y,y=O;let Y=y-p;for(let J=M;Y>0&&J<t.length;J++){const R=t[J];if(Y>R.size)Y-=R.size,M++,p+=R.size,s.updateFileStatus(R,"uploading",R.size);else{s.updateFileStatus(R,"uploading",Y);return}}},!1),g.onreadystatechange=()=>{g.readyState<4||(g.status&&g.status<400?(s.uploadedFiles.value=s.uploadedFiles.value.concat(t),t.forEach(d=>{s.updateFileStatus(d,"uploaded")}),r("uploaded",{files:t,xhr:g})):(m=!0,s.uploadedSize.value-=y,s.queuedFiles.value=s.queuedFiles.value.concat(t),t.forEach(d=>{s.updateFileStatus(d,"failed")}),r("failed",{files:t,xhr:g})),c.value--,o.value=o.value.filter(d=>d!==g))},g.open(l("method",t),w),l("withCredentials",t)===!0&&(g.withCredentials=!0);const F=l("headers",t);F!==void 0&&F.forEach(d=>{g.setRequestHeader(d.name,d.value)});const E=l("sendRaw",t);t.forEach(d=>{s.updateFileStatus(d,"uploading",0),E!==!0&&D.append(l("fieldName",d),d,d.name),d.xhr=g,d.__abort=()=>{g.abort()},T+=d.size}),r("uploading",{files:t,xhr:g}),o.value.push(g),E===!0?g.send(new Blob(t)):g.send(D)}return{isUploading:h,isBusy:k,abort:B,upload:N}}var wt={name:"QUploader",props:kt,emits:qt,injectPlugin:Ut},De=$t(wt);const zt=te({name:"AddPet",props:["petId"],emits:["finishWriting"],methods:{finishedUploading(e){const r=JSON.parse(e.xhr.response);this.$api.post("api/v1/upload/medical",{media_files:r,petId:this.petId}).then(s=>{console.log(s.data),this.$emit("finishWriting")})}}});function xt(e,r,s,o,i,c){return Q(),se(De,{url:`${e.$mediaURL}/api/v1/upload`,"form-fields":[{name:"project",value:"pethotel"},{name:"folder",value:"medical"}],multiple:"",ref:"uploader",color:"grey-4","text-color":"black",label:"Upload medical records",onUploaded:e.finishedUploading},null,8,["url","onUploaded"])}var Pt=ae(zt,[["render",xt]]);const Ct=te({name:"TabMedical",props:["petId"],setup(){return{accepted_files:["pdf","docx","doc"]}},computed:{filtered_medical_files(){return this.medical_records.filter(e=>this.accepted_files.includes(e.fileExtension))},medical_pictures(){return this.medical_records.filter(e=>!this.accepted_files.includes(e.fileExtension))}},methods:{refreshData(){this.$api.get(`api/v1/pethotel/files/medical/${this.petId}`).then(e=>{console.log(e.data),this.medical_records=e.data}).catch(e=>{console.log(e)})}},watch:{petId(e,r){this.refreshData(),console.log(e,r)}},mounted(){this.refreshData()},data(){return{medical_records:[],dialog:!1,selected_medical_file_index:void 0}},components:{GeneralMedicalUploader:Pt}}),Dt={class:"row justify-center"},It={class:"row gap-10"},Bt=["onClick","src"];function Tt(e,r,s,o,i,c){const _=W("general-medical-uploader");return Q(),H(ee,null,[X("div",Dt,[n(_,{"pet-id":e.petId},null,8,["pet-id"])]),X("div",It,[(Q(!0),H(ee,null,Ue(e.medical_records,(h,k)=>(Q(),H("img",{key:k,onClick:q=>{e.dialog=!0,e.selected_medical_file_index=k},src:`${e.$mediaURL}/pethotel/medical/320/${h.filename}.${h.fileExtension}`,class:"q-my-md cursor-pointer",style:{"max-width":"200px","max-height":"200px"}},null,8,Bt))),128))]),n(Ke,{modelValue:e.dialog,"onUpdate:modelValue":r[0]||(r[0]=h=>e.dialog=h)},{default:u(()=>[n(je,{style:{width:"40vw"}},{default:u(()=>[n(we,{src:`${e.$baseURL}/images/medical/${e.medical_records[e.selected_medical_file_index].filename}`},null,8,["src"])]),_:1})]),_:1},8,["modelValue"])],64)}var Qt=ae(Ct,[["render",Tt]]);const Nt=te({name:"TabGallery",props:["petId"],methods:{finishedUploading(){this.refreshData(),console.log()},failedUploading(){console.log()},refreshData(){this.$api.post("api/v1/pethotel/get_pet_pictures",{petId:this.petId}).then(e=>{this.picture_files=e.data})}},watch:{petId(e,r){this.refreshData(),console.log(e,r)}},mounted(){this.refreshData()},computed:{picture_files_url(){return`${this.$serverUrl}/api/v1/pethotel/push_pet_pics_uploader`}},data(){return{picture_files:[]}}}),Rt={class:"row justify-center"},Et={class:"col"};function Lt(e,r,s,o,i,c){return Q(),H(ee,null,[X("div",Rt,[n(De,{url:e.picture_files_url,multiple:"",ref:"uploader",color:"grey-4","text-color":"black",label:"Upload gallery pictures","form-fields":[{name:"petId",value:e.petId}],onUploaded:e.finishedUploading,onFailed:e.failedUploading},null,8,["url","form-fields","onUploaded","onFailed"])]),X("div",Et,[(Q(!0),H(ee,null,Ue(e.picture_files,(_,h)=>(Q(),se(we,{key:h,src:`http://localhost:3000/images/${_.filename}`},null,8,["src"]))),128))])],64)}var jt=ae(Nt,[["render",Lt]]);const At=te({name:"PetsTab",props:["pets","selected_pet"],components:{PetInfo:ct,TabMedical:Qt,TabGallery:jt},data(){return{tab:"details"}}}),Mt={class:"col bg-white"};function Ot(e,r,s,o,i,c){const _=W("PetInfo"),h=W("TabMedical"),k=W("TabGallery");return Q(),H(ee,null,[n(Qe,{modelValue:e.tab,"onUpdate:modelValue":r[0]||(r[0]=q=>e.tab=q),dense:"",class:"text-black bg-grey-4","active-bg-color":"white","active-class":"pet-active-tab","indicator-color":"transparent",align:"justify"},{default:u(()=>[n(be,{name:"details",label:"Details"}),n(be,{name:"medical",label:"Medical"}),de("",!0)]),_:1},8,["modelValue"]),X("div",Mt,[n(Re,{class:"full-height"},{default:u(()=>[n(Ne,{modelValue:e.tab,"onUpdate:modelValue":r[1]||(r[1]=q=>e.tab=q)},{default:u(()=>[n(ie,{name:"details"},{default:u(()=>[n(_,{petData:e.pets[e.selected_pet]},null,8,["petData"])]),_:1}),n(ie,{name:"medical"},{default:u(()=>[n(h,{petId:e.pets[e.selected_pet].petId},null,8,["petId"])]),_:1}),n(ie,{name:"gallery"},{default:u(()=>[n(k,{petId:e.pets[e.selected_pet].petId},null,8,["petId"])]),_:1})]),_:1},8,["modelValue"])]),_:1})])],64)}var Vt=ae(At,[["render",Ot]]);const Gt=it(),{selectedPet:Wt,pets:Ht}=Je(Gt),Xt=te({name:"AccountSettings",setup(){return{pets:Ht,selectedPet:Wt}},components:{PetsTab:Vt,PetSelector:Te,DashBoardToolbar:nt}}),Yt=X("div",{class:"bg-white"},null,-1);function Jt(e,r,s,o,i,c){const _=W("DashBoardToolbar"),h=W("PetSelector"),k=W("PetsTab");return Q(),H(ee,null,[n(_,{title:"Pets Profile"}),X("div",null,[n(h)]),e.selectedPet!=null&&e.pets?(Q(),se(k,{key:0,pets:e.pets,selected_pet:e.selectedPet},null,8,["pets","selected_pet"])):de("",!0),Yt],64)}var Fa=ae(Xt,[["render",Jt]]);export{Fa as default};
